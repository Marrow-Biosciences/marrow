name: build
on: push
jobs:
  build:
    runs-on: ubuntu-24.04
    steps:
      - uses: actions/checkout@v5
      - uses: bazel-contrib/setup-bazel@0.15.0
        with:
          bazelrc: common --compilation_mode=opt --host_platform=@rules_rust//rust/platform:x86_64-unknown-linux-gnu --platforms=@rules_rust//rust/platform:x86_64-unknown-linux-gnu
          disk-cache: true
          external-cache: true
          repository-cache: true
      - run: bazel build //...
